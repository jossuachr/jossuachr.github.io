<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DataFest 2025 – Best in Show</title>
  <!-- Tailwind CSS & Typography -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { plugins: [require('@tailwindcss/typography')] }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>body { font-family: 'Poppins', sans-serif; }</style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- NAV -->
  <nav class="bg-white shadow-md fixed w-full z-10">
    <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
      <a href="index.html" class="text-xl font-bold">&larr; Home</a>
      <a href="resume.html" class="hover:text-indigo-600">Résumé</a>
    </div>
  </nav>

  <main class="pt-24 prose prose-lg max-w-4xl mx-auto px-6 py-12">

    <h1>DataFest 2025 – Best in Show</h1>
    <p class="lead">As lead analyst for the RStudio Wizards team at DataFest Mizzou, I developed a complete pipeline to analyze and model rental lease data, earning Best in Show.</p>

    <h2>1. Load Data &amp; Libraries</h2>
    <p>We ingested four CSV files and loaded key R packages:</p>
    <details>
      <summary class="cursor-pointer">Show Code</summary>
      <pre><code class="language-r"># Data files
Unemployment <- read.csv("~/Downloads/Unemployment.csv", stringsAsFactors = TRUE)
PriceAvailability <- read.csv("~/Downloads/Price and Availability Data.csv", stringsAsFactors = TRUE)
MajorMarket <- read.csv("~/Downloads/Major Market Occupancy Data-revised.csv", stringsAsFactors = TRUE)
Leases <- read.csv("~/Downloads/Leases.csv", stringsAsFactors = TRUE)

# Libraries
library(tidyverse)
library(randomForest)
library(scales)
library(lubridate)
library(ranger)
library(iml)
library(sf)
library(leaflet)
library(shiny)
</code></pre>
    </details>

    <h2>2. Data Cleaning &amp; Feature Engineering</h2>
    <p>Merged datasets on <code>year</code>, <code>quarter</code>, <code>state</code>, and <code>market</code>, then grouped and imputed missing values:</p>
    <details>
      <summary>Show Code</summary>
      <pre><code class="language-r"># Join tables
Leases <- merge(Leases, Unemployment, by = c("year","quarter","state"), all.x = TRUE)
Leases <- merge(Leases, MajorMarket, by = c("year","quarter","market"), all.x = TRUE)

# Mode function
get_mode <- function(x) {
  ux <- unique(x)
  ux[which.max(tabulate(match(x, ux)))]
}

# Summarize duplicates
grouped_data <- Leases %>%
  group_by(lease_id) %>%
  summarize(
    overall_rent = sum(rent_amount),
    unemployment_rate = mean(unemployment_rate, na.rm=TRUE),
    avg_occupancy_proportion = mean(avg_occupancy_proportion, na.rm=TRUE),
    leasedSF = mean(leasedSF, na.rm=TRUE),
    RBA = mean(RBA, na.rm=TRUE),
    availability_proportion = mean(availability_proportion, na.rm=TRUE),
    market = get_mode(market),
    zip = get_mode(zip),
    internal_class = get_mode(internal_class),
    transaction_type = get_mode(transaction_type),
    space_type = get_mode(space_type),
    year = get_mode(year),
    monthsigned = get_mode(monthsigned),
    .groups='drop'
  )

# Imputation
impute_mode <- function(x) { # for categorical
  mode_val <- names(which.max(table(x)))
  x[is.na(x)] <- mode_val; x
}
impute_mean <- function(df) {
  num_cols <- sapply(df, is.numeric)
  df[num_cols] <- lapply(df[num_cols], function(x) { x[is.na(x)] <- mean(x, na.rm=TRUE); x })
  df
}
grouped_data <- grouped_data %>%
  mutate(space_type = impute_mode(space_type)) %>%
  impute_mean()
</code></pre>
    </details>

    <h2>3. Random Forest Modeling</h2>
    <p>Trained a Random Forest regression to predict <code>overall_rent</code> and derive a binary <code>price_category</code>:</p>
    <details>
      <summary>Show Code</summary>
      <pre><code class="language-r"># Fit model
rf_model <- randomForest(overall_rent ~ ., data = grouped_data, importance = TRUE)

# Predictions & category
grouped_data$predicted_rent <- predict(rf_model, grouped_data)
grouped_data$price_category <- ifelse(grouped_data$overall_rent > grouped_data$predicted_rent, 1, 0)

# Variable Importance
importance_data <- importance(rf_model)
</code></pre>
    </details>
    <figure>
      <img src="assets/datafest_vip_plot.png" alt="Variable Importance">
      <figcaption>Top predictors included median income, RBA, and occupancy rates.</figcaption>
    </figure>

    <h2>4. ALE Plots</h2>
    <p>Used the <code>iml</code> package to generate Accumulated Local Effects for the <code>price_category</code> model:</p>
    <details>
      <summary>Show Code</summary>
      <pre><code class="language-r">generate_ale_plots <- function(model, data, target) {
  for(feature in c('unemployment_rate','median_income','RBA')) {
    if(feature %in% colnames(data)) {
      x <- data[,feature,drop=FALSE]
      predictor <- Predictor$new(model, data = data, y = data[[target]])
      ale <- FeatureEffect$new(predictor, feature = feature, method = 'ale')
      plot(ale)
    }
  }
}
generate_ale_plots(rf_model, grouped_data, target = 'price_category')
</code></pre>
    </details>

    <h2>5. Temporal Trends &amp; Table</h2>
    <p>Calculated average rent by year and region, highlighting percentage changes for 2024:</p>
    <figure>
      <img src="assets/datafest_line_plot.png" alt="Yearly Rent Trends">
      <figcaption>Smoothed trends and annotated percent changes for each region.</figcaption>
    </figure>

    <h2>6. Geospatial Analysis</h2>
    <p>Mapped markets with color scales showing average overpriced proportion:</p>
    <figure>
      <img src="assets/datafest_map.png" alt="Market Map">
      <figcaption>A Leaflet map illustrating regional rental dynamics.</figcaption>
    </figure>

    <h2>7. Comparative Animation</h2>
    <p>Animated progression of rent by region using <code>gganimate</code>:</p>
    <img src="assets/datafest_green_red.gif" alt="Green vs Red Markets Animation">

    <h2>Key Insights</h2>
    <ul>
      <li>High median income and RBA strongly predict rental prices.</li>
      <li>Imbalances between predicted and actual rents reveal under-/over-valued leases.</li>
      <li>Regional trends and economic indicators inform pricing strategies.</li>
    </ul>

    <div class="flex space-x-4 mt-8">
      <a href="assets/datafest2025_report.pdf" download class="px-6 py-3 bg-indigo-600 text-white rounded hover:bg-indigo-700">Download Report</a>
      <a href="assets/datafest2025_slides.pdf" download class="px-6 py-3 border border-indigo-600 text-indigo-600 rounded hover:bg-indigo-50">Slides</a>
    </div>

  </main>

  <footer class="bg-white py-6 text-center text-gray-600">
    &copy; 2025 Jossua Chartier. All rights reserved.
  </footer>
</body>
</html>
